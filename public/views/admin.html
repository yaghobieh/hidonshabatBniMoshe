<link rel="stylesheet" href="../css/admin.css">

<div class="alert alert-purple alert-dismissable">
  <span class="glyphicon glyphicon-certificate"></span>
  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">
    ×
  </button>
  <strong>שלום לך מנהל יקר. </strong> הינוך מחובר כ- {{index.adminProfile.username}} 
  <a href="/" class="pull-left">חזור לעמוד ראשי >></a>
</div>

<div class="container-fluid">
  <div class="row">
    <div>
      <div class="tabs-left">
        <ul class="nav nav-tabs">
          <li class="active">
            <a href="#a" data-toggle="tab">ראשי</a>
          </li>
          <li>
            <a href="#b" data-toggle="tab">
              <span class="glyphicon glyphicon-camera"></span>
            </a>
          </li>
          <li>
            <a href="#c" data-toggle="tab">
              <span class="glyphicon glyphicon-camera"></span>
              <span class="glyphicon glyphicon-pencil"></span>
            </a>
          </li>
          <li>
            <a href="#d" data-toggle="tab">
              <span class="glyphicon glyphicon-file"></span>
            </a>
          </li>
          <li>
            <a href="#e" data-toggle="tab">
              <span class="glyphicon glyphicon-file"> </span>
              <span class="glyphicon glyphicon-pencil"></span>
            </a>
          </li>
          <li>
            <a href="#f" data-toggle="tab">
              <span class="glyphicon glyphicon-film"></span>
            </a>
          </li>
          <li>
            <a href="#g" data-toggle="tab">
              <span class="glyphicon glyphicon-film"></span>
              <span class="glyphicon glyphicon-pencil"></span>
            </a>
          </li>
          <li>
            <a href="#h" data-toggle="tab">
              <span class="glyphicon glyphicon-user
              "></span>
            </a>
          </li>
        </ul>
        <div class="tab-content">
          <!-- Header -->
          <div class="tab-pane active" id="a">
            <h3>מידע ראשי | נערך בתאריך {{index.infoSectionEditPack.editDate}}</h3>
            <form ng-submit="index.updateInfoSection(infoSectionEditPack)" class="center-form">
              <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" placeholder="שם מלא" ng-model="index.infoSectionEditPack.title" required>
              </div>
              <div class="form-group">
                <label for="body_content">Body תוכן</label>
                <textarea class="form-control" ng-model="index.infoSectionEditPack.body_content" placeholder="index.infoSectionEditPack.body_content"
                  required></textarea>
              </div>
              <div class="form-group">
                <label for="email">email</label>
                <input type="email" class="form-control" ng-model="index.infoSectionEditPack.email" placeholder="index.infoSectionEditPack.email"
                  required>
              </div>
              <div class="form-group">
                <label for="phone">Phone</label>
                <input type="text" class="form-control" ng-model="index.infoSectionEditPack.phone" placeholder="index.infoSectionEditPack.phone"
                  required>
              </div>
              <center>
                <button type="submit" class="btn btn-header btn-lg">שנה תוכן</button>
                <center></center>
            </form>
          </div>

          <!-- Add image -->
          <div class="tab-pane" id="b">
            <h3>הוסף תמונה חדשה</h3>
            <form action="http://localhost:3000/api/imageSection" method="POST" enctype="multipart/form-data">
              <div class="form-group">
                <label for="title">כותרת</label>
                <input type="text" class="form-control" name="title" placeholder="כותרת" required>
              </div>
              <div class="form-group">
                <label for="description">מידע</label>
                <input type="text" class="form-control" name="description" placeholder="מידע" required>
              </div>
              <input type="file" name="file" size="50" />
              <br />
              <input type="submit" value="Upload File" />
            </form>
          </div>

          <!-- Edit image -->
          <div class="tab-pane" id="c">
            <div class="form-group">
              <label class="control-label col-sm-3" for="title">בחר מידע לשנות</label>
              <div class="col-sm-6 col-md-8">
                <select id="title" class="form-control" ng-model="index.changedImg" ng-click="index.getImgChange()">
                  <option ng-repeat="infoSection in index.imgSection">{{infoSection.title}}</option>
                </select>
              </div>
            </div>
            <form ng-submit="index.updateImgSection(editImgSection)" class="center-form" ng-show="index.showImgBack">
              <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" placeholder="שם מלא" ng-model="index.editImgSection.title" required>
              </div>
              <div class="form-group">
                <label for="description">תוכן</label>
                <textarea class="form-control" ng-model="index.editImgSection.description" placeholder="index.editImgSection.description"
                  required></textarea>
              </div>
              <center>
                <button type="submit" class="btn btn-header btn-lg">שנה תוכן</button>
                <center>
            </form>
          </div>

          <!-- New Article -->
          <div class="tab-pane" id="d">
            <h3>הוסף מאמר חדש</h3>
            <form action="http://localhost:3000/api/article" method="POST" enctype="multipart/form-data">
              <div class="form-group">
                <label for="title">כותרת</label>
                <input type="text" class="form-control" name="title" placeholder="כותרת" required>
              </div>
              <div class="form-group">
                <label for="description">מידע</label>
                <input type="text" class="form-control" name="description" placeholder="מידע" required>
              </div>
              <input type="file" name="file" size="50" />
              <br />
              <input type="submit" value="Upload File" />
            </form>
          </div>

          <!-- Edit articles -->
          <div class="tab-pane" id="e">
            <div class="form-group">
              <label class="control-label col-sm-3" for="title">בחר מידע לשנות</label>
              <div class="col-sm-6 col-md-8">
                <select id="title" class="form-control" ng-model="index.articleChanged" ng-click="index.getArticleChange()">
                  <option ng-repeat="article in index.articles">{{article.title}}</option>
                </select>
              </div>
            </div>
            <form ng-submit="index.updateFiles(editArticle)" class="center-form" ng-show="index.showImgBackArticle">
              <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" placeholder="index.editArticle.title" ng-model="index.editArticle.title" required>
              </div>
              <div class="form-group">
                <label for="description">תוכן</label>
                <textarea class="form-control" ng-model="index.editArticle.description" placeholder="index.editArticle.description" required></textarea>
              </div>
              <center>
                <button type="submit" class="btn btn-header btn-lg">שנה תוכן</button>
                <center>
            </form>
          </div>

          <!-- Add new Film -->
          <div class="tab-pane" id="f">
            <h3>הוסף סרטון חדש</h3>
            <form ng-submit="index.newVideo(videoPack)" class="center-form">
              <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" placeholder="כותרת" ng-model="index.videoPack.title" required>
              </div>
              <div class="form-group">
                <label for="description">תוכן</label>
                <input type="text" class="form-control" ng-model="index.videoPack.description" placeholder="מידע פנימי" required>
              </div>
              <div class="form-group">
                <label for="videoUrl">Youtube Link</label>
                <input type="text" class="form-control" class="form-control" ng-model="index.videoPack.videoUrl" placeholder="Youtube Link"
                  required>
              </div>
              <center>
                <button type="submit" class="btn btn-header btn-lg">שנה תוכן</button>
                <center>
            </form>
          </div>

          <!-- Edit video -->
          <div class="tab-pane" id="g">
            <div class="form-group">
              <label class="control-label col-sm-3" for="title">בחר מידע לשנות</label>
              <div class="col-sm-6 col-md-8">
                <select id="title" class="form-control" ng-model="index.changedVideo" ng-click="index.getVideoChange()">
                  <option ng-repeat="video in index.videos">{{video.title}}</option>
                </select>
              </div>
            </div>
            <form ng-submit="index.updateVideo(editVideo)" class="center-form" ng-show="index.showVideo">
              <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" placeholder="index.editVideo.title" ng-model="index.editVideo.title" required>
              </div>
              <div class="form-group">
                <label for="description">תוכן</label>
                <textarea class="form-control" ng-model="index.editVideo.description" placeholder="index.editVideo.description" required></textarea>
              </div>
              <div class="form-group">
                <label for="videoUrl">תוכן</label>
                <textarea class="form-control" ng-model="index.editVideo.videoUrl" placeholder="index.editVideo.videoUrl" required></textarea>
              </div>
              <center>
                <button type="submit" class="btn btn-header btn-lg">שנה תוכן</button>
                <center>
            </form>
          </div>

          <!-- Users information -->
          <div class="tab-pane" id="h">
            <h3>מידע אודות משתמשים</h3>
            <div class="span7">
              <div class="widget stacked widget-table action-table">

                <div class="widget-header">
                  <i class="icon-th-list"></i>
                  <h3>משתמשים</h3>
                </div>
                <!-- /widget-header -->

                <div class="widget-content">

                  <table class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <th>שם מלא</th>
                        <th>פרטים</th>
                        <th class="td-actions"></th>
                      </tr>
                    </thead>

                    <tbody ng-repeat="user in index.users">
                      <tr ng-show="!user.checked">
                        <td>{{user.full_name}}</td>
                        <td>{{user.email}} | {{user.phone}} </td>
                        <td>
                            <label class="switch">
                              
                              <input type="checkbox" ng-click="index.changeUserStatus(users, $index)">
                              <span class="slider round"></span>
                            </label>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  
                </div>
                <!-- /widget-content -->
                
              </div>
              <!-- /widget -->
              <div class="statusTrue container">
                <h3>נדבקו ואושרו</h3>
                <span class="button-checkbox" ng-repeat="user in index.users" ng-show="user.checked">
                    <button type="button" class="btn btn-info" data-color="primary">{{user.full_name}}</button>
                    <input type="checkbox" class="hidden" checked />
                </span>
              </div>
            </div>
          </div>

        </div>
        <!-- /tab-content -->
      </div>
      <!-- /tabbable -->
    </div>
    <!-- /col -->
  </div>
  <!-- /row -->
</div>
<!-- /container -->

<script>
  var tabsFn = (function () {

    function init() {
      setHeight();
    }

    function setHeight() {
      var $tabPane = $('.tab-pane'),
        tabsHeight = $('.nav-tabs').height();

      $tabPane.css({
        height: tabsHeight
      });
    }

    $(init);
  })();
</script>